<link rel="import" href="../components/polymer/polymer.html">

<!-- <link rel="stylesheet" href="../css/style.css"> -->
<!-- <dom-element name="ee-variable" noscript>
	<template>
		<style>
			:host{

				display:list-item;
				list-style: none;
				color: #FFF;
				font-size: 0.8em;
				padding: 3px;
			}
			
			

		</style>
	</template>
</dom-element> -->

<polymer-element name = 'variable-study-area' attributes = 'name tooltip' style = 'padding:0px;line-height:0;'>
	<template>
		<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
   
    <!-- Latest compiled and minified JavaScript -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
        <!-- <script src = 'js/jquery.fittext.js'></script> -->
   
		<style type="text/css">
			a{
				line-height: 1em!important;

			}
			a:hover{
				color:var(--teal-100)!important;

			}
			a:focus{
				background:var(--deep-brown-100)!important;
				color:var(--teal-30)!important;
			}
		</style>
		<!-- <div class="dropdown-divider"></div> -->
		<a class="dropdown-item " on-click = "{{onValueChange}}"  href="#" data-toggle="tooltip" data-placement="top" title="{{tooltip}}">{{name}}</a>
		<!-- <div class="dropdown-divider"></div> -->
	</template>
	<script>
		Polymer('variable-study-area',{
			
			onValueChange:function(){
				dropdownUpdateStudyArea(this.name);
			
			}
		});
	</script>
	
</polymer-element>

<polymer-element name="variable-number" attributes="name default var min max step" extends="ee-variable">
	<template>
		{{name}}: <input type="number" min="{{min}}" max="{{max}}" step="{{step}}" value="{{value}}" on-change="{{onValueChange}}">
	</template>
	<script>
		Polymer('variable-number',{
			default:0,
			value:0,
			min:0,
			max:10,
			step:1,
			var:'aVar',
			ready:function(){
				this.value = this.default;
				window[this.var] = this.value;
			},
			onValueChange:function(){
				if(this.value == '' || isNaN(this.value)) return;

				var value = parseInt(this.value);
				if(value > this.max || value < this.min) return;

				window[this.var] = value;
				// reRun();
			}
		});
	</script>

</polymer-element>

<polymer-element name="variable-date" attributes="name default var " extends="ee-variable">
	<template>
	
		{{name}}: <input type="date"  value="{{value}}" on-click="{{onValueChange}}">
	</template>
	<script>

	Date.prototype.toDateInputValue = (function() {
    var local = new Date(this);
    local.setMinutes(this.getMinutes() - this.getTimezoneOffset());
    return local.toJSON().slice(0,10);
});
		Polymer('variable-date',{
			default: new Date().toDateInputValue(),
			value:new Date().toDateInputValue(),
			
			var:'aVar',
			ready:function(){
				console.log('changed');
				this.value = this.default;
				window[this.var] = this.value;
			},
			onValueChange:function(){
				
				if(this.value == '' || isNaN(this.value)) return;

				var value = this.value;
				console.log(value);

				window[this.var] = value;
				
				// reRun();
			}
		});
	</script>

</polymer-element>

<polymer-element name="variable-text" attributes="name default var " extends="ee-variable">
	<template>
		<style >
		input[type='text'] {
            border-radius: 4px;
            background-color: #999;
            color:#FFF;
            font-size: 1em;
            /*font-weight: bold;*/
            float:right;
            min-width:40%;

           
        }
		</style>
		<div style = 'margin-bottom:5px;'>{{name}}: <input type="text"  value="{{value}}" spellcheck="false" on-keyup="{{onValueChange}}" on-change="{{onValueChange}}" on-click="{{onValueChange}}">
		</div>
		
	</template>
	<script>
		Polymer('variable-text',{
			default:'hello',
			value:'hello',
			
			var:'aVar',
			ready:function(){
				this.value = this.default;
				window[this.var] = this.value;
			},
			onValueChange:function(){
				if(this.value == '') return;

				
				console.log(this.value);
				window[this.var] = this.value;
				// reRun();
			}
		});
	</script>

</polymer-element>


<polymer-element name="variable-range" attributes="name default var min max step" extends="ee-variable">
	<template>
	<style>
                input[type='range'] {
            -webkit-appearance: none;
            border-radius: 5px;
            
            box-shadow: inset 0 0 5px #333;
            background-color: #999;
            height: 5px;
            vertical-align: middle;
        }
        input[type='range']::-moz-range-track {
            -moz-appearance: none;
            border-radius: 5px;
            box-shadow: inset 0 0 5px #333;
            background-color: #999;
            height: 20px;
        }
        input[type='range']::-webkit-slider-thumb {
            -webkit-appearance: none !important;
            border-radius: 5px;
            background-color: #FFF;
            
            box-shadow:inset 0 0 10px rgba(000,000,000,0.5);
            /*border: 1px solid #999;*/
            height: 12px;
            width: 10px;
        }
     
            li{
                list-style-type:none;
                margin-bottom:12px;
                clear:both;
                padding-bottom:6px;
                color: #FFFFFF;
                font-size: 0.9em;
            }

            .deactivated{display:none;}
            .container{float:left;}
            .range{float:right;}
            #opacity{margin-left:1Spx;}
        </style>
		{{name}}: <input type="range" min="{{min}}" max="{{max}}" step="{{step}}" value="{{value}}" on-change="{{onValueChange}}"> {{value}}
	</template>

	<script>

		Polymer('variable-range',{
			default:0,
			value:0,
			min:0,
			max:10,
			step:1,
			var:'aVar',
			ready:function(){
				this.value = this.default;
				window[this.var] = this.value;
			},
			onValueChange:function(){
				if(this.value == '' || isNaN(this.value)) return;

				var value = parseInt(this.value);
				if(value > this.max || value < this.min) return;
				console.log(value);
				window[this.var] = value;
				// reRun();
			}
		});
		// console.log('its a range')
	</script>
</polymer-element>

<polymer-element name="variable-checkbox" attributes="name checked var" extends="ee-variable">
	<template>
	
		{{name}}: <input class = 'slideOne' type="checkbox" checked = "{{checked}}" on-change="{{onValueChange}}">{{checked}}
	</template>
	
	<script>
		Polymer('variable-checkbox',{
			default:false,
			checked:false,
			
			var:'aVar',
			ready:function(){
				// this.value = this.checked;
				
				window[this.var] = this.checked;
			},
			onValueChange:function(){
				console.log(this.checked)
				
				window[this.var] = this.checked;
				// reRun();
			}
		});
	</script>
	
</polymer-element>


<polymer-element name="variable-radio" attributes="var name1 name2 value1 value2 type title2 onclick1 onclick2" extends="ee-variable">
	
	<template>

		<style type="text/css">
			/*.wrapper{

  padding:100px;
}*/

.toggle_radio{
  position: relative;
  background: rgba(255,255,255,.5);
  margin: 4px auto;
  overflow: hidden;
  padding: 0 !important;
  /*-webkit-border-radius: 50px;*/
  /*-moz-border-radius: 50px;*/
  /*border-radius: 50px;*/
  position: relative;
  float:left;
  height: 26px;
  width: 214px;
}
.toggle_radio > * {
  float: left;
}
.toggle_radio input[type=radio]{
  display: none;
  /*position: fixed;*/
}
.toggle_radio label{
  background:#FFF;
  color: #000;
  z-index: 0;
  display: block;
  width: 100px;
  height: 20px;
  margin: 3px 3px;
  /*-webkit-border-radius: 50px;*/
  /*-moz-border-radius: 50px;*/
  /*border-radius: 50px;*/
  cursor: pointer;
  z-index: 1;

  text-align: center;

}
.toggle_option_slider{
  /*display: none;*/
  /*background: red;*/
  width: 100px;
  height: 20px;
  position: absolute;
  top: 3px;
  /*-webkit-border-radius: 50px;*/
  /*-moz-border-radius: 50px;*/
  /*border-radius: 50px;*/
  -webkit-transition: all .4s ease;
  -moz-transition: all .4s ease;
  -o-transition: all .4s ease;
  -ms-transition: all .4s ease;
  transition: all .4s ease;
}

#first_toggle:checked ~ .toggle_option_slider{
  background: #00897B55;
  left: 3px;
  font-weight: 900!important;
}
#second_toggle:checked ~ .toggle_option_slider{
  background: #00897B55;
  left: 109px;
  font-weight: 900!important;
}
#third_toggle:checked ~ .toggle_option_slider{
  background: rgba(255,255,255,.3);
  left: 215px;
}

		</style>

		<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<!-- <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->
		
		<!-- <p>{{title2}}</p><input type="radio" name="browser" on-change="{{checkIt1}}" value="1" checked>{{name1}} -->
				<!-- <input type="radio" name="browser" on-change="{{checkIt2}}" value="2">{{name2}} -->

	
<!-- 	<div class="form-group row">
    <label class="col-sm-2">{{title2}} </label>
    <div class="col-sm-10">
        <div class="form-check form-check-inline">
         
            <input type="radio" checked class="form-check-input toggle_option" id="first_toggle" name="toggle_option" on-change="{{checkIt1}}" value="1" >

            <label class="form-check-label" for="inlineRadio1">Option one</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
            <label class="form-check-label" for="inlineRadio2">Option Two</label>
        </div>
      
    </div>
</div>
 -->

	<div class = 'row'>
		<label class="col-12">{{title2}} </label>
		<div class = 'col-12'>
		<div  id = '#radio-toggler'  class="toggle_radio">

	  	
	    <input type="radio" checked class="toggle_option" id="first_toggle" name="toggle_option" on-change="{{checkIt1}}" value="1" >
	    <input type="radio"   class="toggle_option" id="second_toggle" name="toggle_option" on-change="{{checkIt2}}" value="2" >
	    
	    <label for="first_toggle" id = 'first_toggle_label'><p>{{name1}}</p></label>
	    <label for="second_toggle"  id = 'second_toggle_label'><p>{{name2}}</p></label>
	    
	    <div class="toggle_option_slider">
	    </div>
	    </div>
 
	</div>
	</div>
	
	
	</template>
	
	<script>
		Polymer('variable-radio',{
			default:1,
			checked:false,
			value1: null,
			value2: null,
			type : 'string',
			
			var:'aVar',
			ready:function(){
				
				if(this.type.toLowerCase() == 'numeric'){this.value1 = parseFloat(this.value1);this.value2 = parseFloat(this.value2)};
				if(this.type.toLowerCase() == 'boolean'){this.value1 = stringToBoolean(this.value1);this.value2 = stringToBoolean(this.value2)}
				window[this.var] = this.value1;
			},
			checkIt1:function(){
				window[this.var] = this.value1;
			
				eval(this.onclick1);
				// reRun();
			},
			checkIt2:function(){
				window[this.var] = this.value2;
				eval(this.onclick2);
				// reRun();
			}
			
			
		});
	</script>
	
</polymer-element>


<polymer-element name="variable-radio3" attributes="var name1 name2 name3 value1 value2 value3 type" extends="ee-variable">
	<template>
		{{name1}}<input type="radio" name="browser" on-change="{{checkIt1}}" value="1" checked>
				<input type="radio" name="browser" on-change="{{checkIt2}}" value="2">{{name2}}
				<input type="radio" name="browser" on-change="{{checkIt3}}" value="3">{{name3}}
	</template>
	
	<script>
		Polymer('variable-radio3',{
			default:1,
			checked:false,
			value1: null,
			value2: null,
			type : 'string',
			
			var:'aVar',
			ready:function(){
				
				if(this.type.toLowerCase() == 'numeric'){this.value1 = parseFloat(this.value1);this.value2 = parseFloat(this.value2);this.value3 = parseFloat(this.value3)};
				if(this.type.toLowerCase() == 'boolean'){this.value1 = stringToBoolean(this.value1);this.value2 = stringToBoolean(this.value2);this.value3 = stringToBoolean(this.value3)}
				window[this.var] = this.value1;
			},
			checkIt1:function(){
				window[this.var] = this.value1;
				// reRun();
			},
			checkIt2:function(){
				window[this.var] = this.value2;
				// reRun();
			},
			checkIt3:function(){
				window[this.var] = this.value3;
				// reRun();
			}
			
			
		});
	</script>
	
</polymer-element>
<script>
	

</script>
<!-- 
<polymer-element name="variable-dual-slider" attributes= var min max step"" extends="ee-variable">
  
<template>
  <style>
    /** /
    References:
    http://jsfiddle.net/IonDen/qv6yrjrv/
    https://github.com/IonDen/ion.rangeSlider#experiments-playground
    /**/
  </style>
  

  <div>
     <p style = 'display:inline-block;margin-right:10px;'>{{name}} </p>
<div id= "slider" style = 'width:25%;display:inline-block;margin-right:10px;' ></div>
<p id = 'date-range-value'style = 'display:inline-block;margin-right:10px;'> </p>
   </div>
</template>
  
<script>
  
   Polymer('variable-dual-slider',{
			default:1,
			checked:false,
			value1: null,
			value2: null,
			type : 'string',
			
			var:'aVar',
			ready:function(){
				
				if(this.type.toLowerCase() == 'numeric'){this.value1 = parseFloat(this.value1);this.value2 = parseFloat(this.value2)};
				if(this.type.toLowerCase() == 'boolean'){this.value1 = stringToBoolean(this.value1);this.value2 = stringToBoolean(this.value2)}
				window[this.var] = this.value1;
			},
			checkIt1:function(){
				window[this.var] = this.value1;
				// reRun();
			},
			checkIt2:function(){
				window[this.var] = this.value2;
				// reRun();
			}
			
			
		});
</script>

</polymer-element>
  

 -->