<!DOCTYPE html>
<html>

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-128044829-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-128044829-1');
    </script>
    
    <title>LCMS Data Explorer</title>
    
    <link rel="icon" href="images/usfslogo.png">
    
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="visualize where land cover change is happening">
    <link rel="stylesheet" href="css/style.css">
    <!-- <link rel="stylesheet" href="css/iThing.css" type="text/css" /> -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/polymer/0.3.4/platform.js"></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script> -->
    <script async src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyCEfhh_56VLoQEYIczNxJlrsPRWNYQ5NJE&libraries=drawing"></script>
    <script type="text/javascript" src="js/ee_api_js.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {
            'packages': ['corechart', 'table']
        });
    </script>
    
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>

    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="https://hammerjs.github.io/dist/hammer.js"></script>


    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
   
    <!-- Latest compiled and minified JavaScript -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
        <script src = 'js/jquery.fittext.js'></script>
<!--     <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script> -->
    <!-- <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> -->
    <link rel="import" href="elements/layer-list.html">
    <link rel="import" href="elements/ee-layer.html">
    <link rel="import" href="elements/variables.html">
   
   <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

 
     <script type="text/javascript">
        var lowerThresholdDecline = 0.3;
        var upperThresholdDecline = 1.0;
        var lowerThresholdRecovery = 0.3;
        var upperThresholdRecovery = 1.0;
        var studyAreaName = 'BTNF';
    </script>



</head>

<body>
    <div   href="#" class="fa fa-bars m-0 px-1 py-2 m-0 sidebar-toggler " onclick = "$('#sidebar-left').toggle('fade')"></div>

    <div class = ' map' id = 'map'> </div>

        <div class = 'container main-container' id = 'main-container'>
             <div id = "curve_chart_big_modal" class="modal fade" role="dialog">
            <div class="modal-dialog modal-lg">
            <div class="modal-content bg-black">

           
            <div class="modal-header">
            <h4 class="modal-title">Chart</h4>
        <button type="button" class="close" data-dismiss="modal" onclick="areaChartingTabSelect(whichAreaDrawingMethod);">&times;</button>
          </div>

         
          <div class="modal-body" >
           <div id="curve_chart_big" class = 'bg-black' style="display: none;"></div> 
          </div>


         
          <div class="modal-footer">
           <div id = 'curve_chart_big_footer'></div>
          </div>

        </div>
        </div>
             
        </div>
 
          <div class="modal fade "  id="introModal" tabindex="-1" role="dialog" >
    <div class="modal-dialog modal-md " role="document">
        <div class="modal-content text-dark" style = 'background-color:rgba(230,230,230,0.95);'>
            <button type="button" class="close p-2 ml-auto" data-dismiss="modal">&times;</button>
            <div class = 'modal-header'>

                <h3 class="mb-0 ">Welcome to the Landscape Change Monitoring System (LCMS) Data Explorer!</h3>
            </div>
            <div class="modal-body">
               
                
           
                <p class="pb-3 ">LCMS is a landscape change detection program developed by the USDA Forest Service. This application is designed to provide a visualization of the Landscape Change products, related geospatial data, and provide a portal to download the data.</p>
                
            </div>
            <div class = 'modal-footer'>
                <div class="form-check  mr-0">
                    <input type="checkbox" class="form-check-input" id="dontShowAgainCheckbox"   name = 'dontShowAgain' value = 'true'>
                    <label class=" text-uppercase form-check-label " for="dontShowAgainCheckbox" >Don't show again</label>
                </div>
            </div>
        </div>
    </div>
</div>
        </div>
        <div style = 'position: absolute;left:0%;top:0%;'class = 'col-lg-3 sidebar show p-0 m-0 flexcroll  bg-image'  >
     
    <h1 id = 'title-banner' data-toggle="tooltip" title="Hooray!" class = 'gray pl-4 pb-0 m-0 text-center' style="font-weight:100;font-family: 'Roboto';">LCMS<span class = 'gray' style="font-weight:1000;font-family: 'Roboto Black', sans-serif;"> DATA </span>EXPLORER </h1>

                         
                          <ul class = 'navbar-nav  px-5  m-0 text-center'   >
                            <!-- <i   class="fa fa-info-circle fa-2x  bg-dark "  data-toggle="modal" data-target="#curve_chart_big" href="#" ></i> -->
                              <li   class="nav-item dropdown navbar-dark navbar-nav nav-link " data-toggle="dropdown">

                                <!-- <a href = '#' class="nav-link dropdown-toggle"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Parameters</a> -->

                                <h5 href = '#' onclick = "$('#sidebar-left').show('fade')" class = 'teal p-0 caret nav-link dropdown-toggle ' id='study-area-label'  >Bridger-Teton National Forest</h5> 
                                
                                 
                                
                                <div class="dropdown-menu dropdown-menu" >
                                <div class="dropdown-header">National Forest Products</div>
                                  <a class="dropdown-item" onclick = 'dropdownUpdateStudyArea("Bridger-Teton National Forest")'  href="#" data-toggle="tooltip" data-placement="top" title="Bridger-Teton National Forest boundary buffered by 5km plus Star Valley">Bridger-Teton National Forest</a>
                                  <a class="dropdown-item" onclick = 'dropdownUpdateStudyArea("Flathead National Forest")'  href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Flathead National Forest buffered along with Glacier National Park buffered by 1km">Flathead National Forest</a>
                                  <a class="dropdown-item" onclick = 'dropdownUpdateStudyArea("Manti-La Sal National Forest")'  href="#" data-toggle="tooltip" data-placement="top" title="Manti-La Sal National Forest" value="Manti-La Sal National Forest">Manti-La Sal National Forest</a>
                                  <div class="dropdown-divider"></div>
                                  <div class="dropdown-header">CONUS Nationwide</div>
                                  <a class="dropdown-item" onclick = 'dropdownUpdateStudyArea("Science Team CONUS NAFD")'  href="#" data-toggle="tooltip" data-placement="top" title="2018 LCMS Science Team CONUS-wide loss" value="Science Team CONUS NAFD">Science Team CONUS NAFD</a>
                                </div>
                             
                              </li>
                               
                        </ul>
                    
                        <div id = 'sidebar-left'> 


                            <div   class="panel-heading px-4 py-2 " role="tab" id="parameters-collapse-label">
                                                <h5 class="panel-title"> <a class = 'layer-collapse-title collapsed' data-toggle="collapse"  href="#parameters-collapse-div" aria-expanded="false" aria-controls="parameters-collapse-div"><i class="fa fa-sliders mr-1" aria-hidden="true"></i> Parameters </a> </h5>
                                        </div>
                                        <div id="parameters-collapse-div" class="panel-collapse collapse panel-body px-4 " role="tabpanel" aria-labelledby="parameters-collapse-label">
                                               
                             <!--       
                                    <button  class = 'm-2 close-button pull-right hover-teal' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Once finished with changing parameters and map is updated, close window with this button">&times;</button> -->
                                
                                    <div >Choose which mode</div>
                                      <a   >
                         
                                        <variable-radio var='analysisMode' title2='' name2='Advanced' name1='Standard' value2='advanced' value1='easy' type='string' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Advanced mode provides additional layers and functionality"></variable-radio>
                                      </a>
                                      
                                     
                                      <div class="dropdown-divider"></div>
                                      <div >Choose Year Range</div>
                                      <a  >
                                          <div  class='dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Years of LCMS data to include for land cover, land use,loss, and gain">
                                            <div class='dual-range-slider-name'>Analysis Years:</div>
                                            <div id="slider1" class='dual-range-slider-slider' href = '#'></div>
                                            <div id='date-range-value1' class='dual-range-slider-value'></div>
                                        </div>
                                        <script type="text/javascript">
                                            var startYear = 1985;
                                            var endYear = 2017;
                                            setUpRangeSlider('startYear', 'endYear', 1985, 2018, startYear, endYear, 1, 'slider1', 'date-range-value1', 'null')
                                        </script>
                                      </a>

                                  <div class="dropdown-divider"></div>
                                  <div id='threshold-container' style="display: none;">
                                  <div  >Choose Thresholds</div>
                                    <a >
                                        <div  class='dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Threshold window for detecting loss.  Any loss probability within the specified window will be flagged as loss ">
                                            <div class='dual-range-slider-name'>Loss Threshold:</div>
                                            <div id="slider2" class='dual-range-slider-slider'></div>
                                            <div id='declineThreshold' class='dual-range-slider-value'></div>
                                        </div>
                                    </a>
                                    <a >
                                        <br>
                                        <div  class='dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Threshold window for detecting gain.  Any gain probability within the specified window will be flagged as gain ">
                                            <div class='dual-range-slider-name'>Gain Threshold:</div>
                                            <div id="slider3" class='dual-range-slider-slider'></div>
                                            <div id='recoveryThreshold' class='dual-range-slider-value'></div>
                                        </div>
                                        <script type="text/javascript">
                                            setUpRangeSlider('lowerThresholdDecline', 'upperThresholdDecline', 0, 1, lowerThresholdDecline, upperThresholdDecline, 0.05, 'slider2', 'declineThreshold', 'null')

                                            setUpRangeSlider('lowerThresholdRecovery', 'upperThresholdRecovery', 0, 1, lowerThresholdRecovery, upperThresholdRecovery, 0.05, 'slider3', 'recoveryThreshold', 'null')
                                        </script>
                                        
                                        </a>
                                    </div>

                                    
                                  <div id='advanced-radio-container' style="display: none;">
                                    <div class="dropdown-divider"></div>
                                  <div  >Additional Features</div>
                                    <a  >
                                       <variable-radio var='viewBeta' title2='View Beta Outputs:' name2='Yes' name1='No' value2='yes' value1='no' type='string' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Whether to view products that are currently in beta development"></variable-radio>
            
            <br>
            <variable-radio var='summaryMethod' title2='Summary method:' name2='Highest probability' name1='Most recent year' value2='prob' value1='year' type='string' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="How to choose which value for loss and gain to display/export.  Choose the value with the highest probability or from the most recent year above the specified threshold"></variable-radio>
                                        </a>
                                        <div class="dropdown-divider"></div>
                                    </div>


        

                                    <button onclick = 'reRun()' class = 'ml-1 submit-button hover-teal' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Once finished with changing parameters, press this button to refresh maps">Submit</button>

                                  
                                
                                            </div>
                 
                                        <div   class="panel-heading px-4 py-2 " role="tab" id="lcms-layer-list-collapse-label">
                                                <h5 class="panel-title"> <a class = 'layer-collapse-title' data-toggle="collapse"  href="#lcms-layer-list-collapse-div" aria-expanded="true" aria-controls="lcms-layer-list-collapse-div"> <img style = 'width:20px;' class='image-icon mr-1' src="images/layer_icon.png">LCMS </a> </h5>
                                        </div>
                                        <div id="lcms-layer-list-collapse-div" class="panel-collapse collapse show panel-body px-0" role="tabpanel" aria-labelledby="lcms-layer-list-collapse-label">
                                                <layer-list id="layers"></layer-list>
                                            </div>
                                      
                                        <div   class="panel-heading px-4 py-2 " role="tab" id="reference-layer-list-collapse-label">
                                                <h5 class="panel-title"> <a class = ' layer-collapse-title ' data-toggle="collapse"  href="#reference-layer-list-collapse-div" aria-expanded="true" aria-controls="reference-layer-list-collapse-div"> <img style = 'width:20px;' class='image-icon mr-1' src="images/layer_icon.png">Reference </a> </h5>
                                        </div>
                                        
                                        
                                        <div id="reference-layer-list-collapse-div" class="panel-collapse collapse show panel-body px-0 " role="tabpanel" aria-labelledby="reference-layer-list-collapse-label">
                                               <reference-layer-list id="reference-layers"></reference-layer-list>
                                        </div>
                          
              
        
                <div   class="panel-heading px-4 py-2 " role="tab" id="tools-list-collapse-label" onclick = 'toggleRadio("none")'>
                        <h5 class="panel-title"> <a class = 'layer-collapse-title collapsed' data-toggle="collapse"  href="#tools-list-collapse-div" aria-expanded="false" aria-controls="tools-list-collapse-div"><i class="fa fa-gear mr-1" aria-hidden="true"></i>Tools</a> </h5>
                </div>
                <div  id="tools-list-collapse-div" class="panel-collapse collapse panel-body px-4  " role="tabpanel" aria-labelledby="tools-list-collapse-label">

<ul class="nav nav-tabs nav-justified md-tabs" id="toolTabs" role="tablist">
  <li class="nav-item">
    <a onclick = 'toggleRadio("none");toggleRadio("distance")' class="nav-link text-black" id="distance-measuring-tools-tab" data-toggle="tab" href="#distance-measuring-tools-div" role="tab" aria-controls="distance-measuring-tools-div"
      aria-selected="false">Distance Measuring</a>
  </li>
  <li class="nav-item">
    <a onclick = 'toggleRadio("none");toggleRadio("area")' class="nav-link text-black" id="area-measuring-tools-tab" data-toggle="tab" href="#area-measuring-tools-div" role="tab" aria-controls="area-measuring-tools-div"
      aria-selected="false">Area Measuring</a>
  </li>

  <li class="nav-item">
    <a onclick = 'toggleRadio("none");toggleRadio("query")' class="nav-link text-black" id="single-pixel-inspector-tools-tab" data-toggle="tab" href="#single-pixel-inspector-tools-div" role="tab" aria-controls="single-pixel-inspector-tools-div"
      aria-selected="false">Query Visible Map Layers</a>
  </li>

  <li class="nav-item">
    <a onclick = 'toggleRadio("none");toggleRadio("charting")' class="nav-link text-black" id="single-pixel-time-series-inspector-tools-tab" data-toggle="tab" href="#single-pixel-time-series-inspector-tools-div" role="tab" aria-controls="single-pixel-time-series-inspector-tools-div"
      aria-selected="false">Query LCMS Data</a>
  </li>

  
</ul>
<div class="tab-content card " >
  <div class="tab-pane fade  " id="distance-measuring-tools-div" role="tabpanel" aria-labelledby="distance-measuring-tools-tab">
    <div  id='distance-measurement'  onclick='toggleDistanceAreaUnits(this.value)'  href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to toggle metric or imperial.  Drag if needed.  Click on map to start measuring.  Press 'Delete' or 'd' button to clear for area measuring and double click for distance measuring.  Press 'u' to undo last vertex placement for area measuring.  Press 'None' radio button to stop measuring">
    </div>
  </div>
  <div class="tab-pane fade  " id="area-measuring-tools-div" role="tabpanel" aria-labelledby="area-measuring-tools-tab">
    <div  id='area-measurement'  onclick='toggleDistanceAreaUnits(this.value)'  href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to toggle metric or imperial.  Drag if needed.  Click on map to start measuring.  Press 'Delete' or 'd' button to clear for area measuring and double click for distance measuring.  Press 'u' to undo last vertex placement for area measuring.  Press 'None' radio button to stop measuring">
    </div>
  </div>
  <div class="tab-pane fade  " id="single-pixel-inspector-tools-div" role="tabpanel" aria-labelledby="single-pixel-inspector-tools-tab">
    <div  id='query-container' style='display:none;'>Double click on map to query values of displayed layers at a location</div>
                    
  </div>

  <div class="tab-pane fade  " id="single-pixel-time-series-inspector-tools-div" role="tabpanel" aria-labelledby="single-pixel-time-series-inspector-tools-tab">
    <div  id='query-container' style='display:none;'>Double click on map to query values of displayed layers at a location</div>
                    
  </div>

  
  <div class="tab-pane fade" id="profile-just" role="tabpanel" aria-labelledby="profile-tab-just">
    <p>Food truck fixie locavore, accusamus mcsweeney's marfa nulla single-origin coffee squid. Exercitation +1
      labore velit, blog sartorial PBR leggings next level wes anderson artisan four loko farm-to-table craft
      beer twee. Qui photo booth letterpress, commodo enim craft beer mlkshk aliquip jean shorts ullamco ad
      vinyl cillum PBR. Homo nostrud organic, assumenda labore aesthetic magna delectus mollit. Keytar
      helvetica VHS salvia yr, vero magna velit sapiente labore stumptown. Vegan fanny pack odio cillum wes
      anderson 8-bit, sustainable jean shorts beard ut DIY ethical culpa terry richardson biodiesel. Art party
      scenester stumptown, tumblr butcher vero sint qui sapiente accusamus tattooed echo park.</p>
  </div>
  <div class="tab-pane fade" id="contact-just" role="tabpanel" aria-labelledby="contact-tab-just">
    <p>Etsy mixtape wayfarers, ethical wes anderson tofu before they sold out mcsweeney's organic lomo retro
      fanny pack lo-fi farm-to-table readymade. Messenger bag gentrify pitchfork tattooed craft beer, iphone
      skateboard locavore carles etsy salvia banksy hoodie helvetica. DIY synth PBR banksy irony. Leggings
      gentrify squid 8-bit cred pitchfork. Williamsburg banh mi whatever gluten-free, carles pitchfork
      biodiesel fixie etsy retro mlkshk vice blog. Scenester cred you probably haven't heard of them, vinyl
      craft beer blog stumptown. Pitchfork sustainable tofu synth chambray yr.</p>
  </div>
</div>

                       <div id="basic-tools-tab"  >
                        
                        <div class="dropdown ">
                          <a  href = "#" class=" gray px-6 caret nav-link dropdown-toggle" data-toggle="dropdown">
                            Select Tool 
                          </a>
                          <div class="dropdown-divider"></div>
                          <div class="dropdown-menu dropdown-menu-right " >
                                   
                                    <!-- <a class="dropdown-item  " onclick = 'toggleRadio("none")'  href="#" >Turn off Tools</a>
                                    <div class="dropdown-divider"></div> -->
                                <div class = 'dropdown-header'><h5>Measuring Tools</h5></div>
                                  <a class="dropdown-item " onclick = 'toggleRadio("none");toggleRadio("distance")'  href="#" >Distance Measuring</a>
                                  <a class="dropdown-item " onclick = 'toggleRadio("none");toggleRadio("area")'  href="#" >Area Measuring</a>
                                 
                                  <div class="dropdown-divider"></div>
                                  <div class = 'dropdown-header'><h5>Pixel Charting Tools</h5></div>
                                  <a class="dropdown-item" onclick = 'toggleRadio("none");toggleRadio("query")'  href="#" >Inspector Single Pixel</a>
                                  <a class="dropdown-item" onclick = 'toggleRadio("none");toggleRadio("charting")'  href="#" >Chart Time Series of Single Pixel</a>
                               

                                  <div class="dropdown-divider"></div>
                                  <div class = 'dropdown-header'><h5>Area Charting Tools</h5></div>
                                  <a class="dropdown-item" onclick = 'toggleRadio("none");startAreaCharting();areaChartingOn = true;areaChartingTabSelect("#user-defined")'  href="#" >User Defined Area</a>
                                  <a class="dropdown-item" onclick = 'toggleRadio("none");startAreaCharting();areaChartingOn = true;areaChartingTabSelect("#shp-defined")'  href="#" >Upload a Shapefile</a>
                                  <a class="dropdown-item" onclick = 'toggleRadio("none");startAreaCharting();areaChartingOn = true;areaChartingTabSelect("#pre-defined")'  href="#" >Select Pre-defined Area</a>
                                </div>
                        </div>
                       
                    
                    <!-- <div style='width:100%;height:2px;border-radius:5px;margin:2px;background-color:#fff'></div> -->
                    
                    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
                    <div id='charting-container' style='display: none;'>
                        <div id='whichIndexForChartingRadio' style='display:none;'>
                            <variable-radio var='whichIndex' title2='Index for charting:' name2='NBR' name1='NDVI' value2='NBR' value1='NDVI' type='string' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Which vegetation index to use for charting"></variable-radio>
                            <br>
                        </div>
                        <div  id="user-defined" >
                                    <br>
                                    <label>Provide name for area selected for charting:</label>
                                    <input type="user-defined-area-name" class="form-control" id="user-defined-area-name" placeholder="Give me a name!" style='width:80%;'>
                                    <br>
                                    <button  onclick='areaChartingTabSelect(whichAreaDrawingMethod);startUserDefinedAreaCharting()'  href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to clear chart and currently defined charting area, or if you messed up while defining your area to chart"><i class="fa fa-trash fa-2x" aria-hidden="true"></i>
                                    </button>
                        </div>
                        <div  id="shp-defined" >
                            <input type="file" id="areaUpload" name="upload" accept=".zip,.geojson,.json" style="display: inline-block;">
                        </div>
                        <div  id="pre-defined" >
                            <select id='forestBoundaries'  onchange='chartChosenArea()'></select>
                        </div>
                      
                   <!--      <div id = 'user-defined'  style = 'display:none;'>
                            <br>
                            <h8>Click on map to draw polygon<br>Double-click to finish drawing polygon<br>The chart will then be automatically created</h8>
                            <div style='width:100%;height:2px;border-radius:5px;margin:2px;background-color:#fff'></div>
                           
                            <br>
                            <div class="form-group">
                                <label for="inputsm">User-defined chart name</label>
                                <input class="form-control input-sm" id="user-defined-area-name" type="text" placeholder="Chart Name">
                            </div>
                            <div style='width:100%;height:2px;border-radius:5px;margin:2px;'></div>
                            <button type="button" onclick='startUserDefinedAreaCharting()' class="button" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to clear chart and currently defined charting area, or if you messed up while defining your area to chart"><i class="fa fa-trash fa-2x" aria-hidden="true"></i>
                            </button>
                        </div> -->

                        <div id = 'shp-defined' style = 'display:none;'>
                            <h8>Choose zipped shapefile<br>or geoJSON file to summarize across</h8>
                            <br>
                            <input type="file" id="areaUpload" name="upload" accept=".zip,.geojson,.json" style="display: inline-block;">
                        </div>

                        <div id = 'pre-defined' style = 'display:none;'>
                            <select id='forestBoundaries' onchange='chartChosenArea()'></select>
                        </div>

                        <div id='charting-parameters' style='display:none;'>Charting Progress

                            <div style='width:100%;height:2px;border-radius:5px;margin:2px;background-color:#fff'></div>
                            <div id="Progress" style='display:inline-block;' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Progress bar for double-click charting">
                                <div id="Bar"></div>
                            </div>
                            <script type="text/javascript">
                                var plotRadius = 15;
                                var plotScale = 30;
                                // listenForUserDefinedAreaCharting(); //startAreaCharting();
                            </script>
                            <div id="curve_chart" class = 'bg-black' style="display: none;max-height:500px;overflow-y:auto;"></div>
                        </div>
                    </div>
                    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
                </div>
                </div>

                 <div   class="panel-heading px-4 py-2 " role="tab" id="legend-list-collapse-label">
                        <h5 class="panel-title"><i class="fa fa-location-arrow fa-rotate-45 mr-1" aria-hidden="true"></i> <a class = 'layer-collapse-title' data-toggle="collapse"  href="#legend-list-collapse-div" aria-expanded="true" aria-controls="legend-list-collapse-div" style = 'vertical-align:center;'>Legend</a> </h5>
                </div>
                <div  id="legend-list-collapse-div" class="panel-collapse collapse show panel-body" role="tabpanel" aria-labelledby="legend-list-collapse-label">
                       <legend-list  class = 'px-4' id="legend"></legend-list>
                </div>

          
            </div>
        </div>  
        
        <div class = 'bottombar' >
                <p class = 'px-2 m-0' style = 'float:right;' id='current-mouse-position'  ></p>

                 <a href="http://www.fs.fed.us//" target="_blank" >
                    <img src="images/usfslogo.png" class = 'image-icon-bar'  href="#"  rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to learn more the US Forest Service">
                </a>
                <a href="https://www.fs.fed.us/gstc/" target="_blank"  >
                <img src="images/GTAC_Logo.png" class = 'image-icon-bar' alt="GTAC Logo"  href="#" class 'dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to learn more about the Geospatial Technology and Applications Center (GTAC)">
            </a>
              <a href="https://www.redcastleresources.com/" target="_blank"  >
                <img src="images/RCR-logo.jpg"  class = 'image-icon-bar'alt="RedCastle Inc. Logo"  href="#" class 'dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to learn more about RedCastle Resources Inc.">
            </a>
            <a href="https://earthengine.google.com/" target="_blank"  >
                <img src="images/GEE.png"   class = 'image-icon-bar' alt="Powered by Google Earth Engine"  href="#" class 'dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to learn more about Google Earth Engine">
            </a>

        </div>
   
 
       
      
  </div> 
      
      
  </div>
  </div> 
 




   


    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    <!-- Add Google Map -->
    <!-- <div id="map"></div> -->
    <!-- Bring in various js modules -->
    <script type="text/javascript" src="js/parameters-manager.js"></script>
    <!--Module for basic parameters-->
    <script type="text/javascript" src="js/drawing-manager.js"></script>
    <!--Module for user-defined vectors-->
    <script type="text/javascript" src="js/map-manager.js"></script>
    <!--Module for managing EE, area and distance calculation etc-->
    <script type="text/javascript" src="js/tools-toggle-manager.js"></script>
    <!--Module for managing EE, area and distance calculation etc-->
    <script type="text/javascript" src="ee/run.js"></script>
    <!--Module for general EE code- place all EE code here to run on refresh-->
    <script type="text/javascript" src="metadata/metadata-parser.js"></script>
    <!--For parsing metadata-->
    <script type="text/javascript" src="js/chart-manager.js"></script>
    <!--Module for charting-->
    <script type="text/javascript" src="js/export-manager.js"></script>
    <!--Module for creating EE images for exporting- Place all EE code here for exporting EE objects-->
    <script type="text/javascript" src="js/download-manager.js"></script>
    <!--Module for exporting predefined images-->

<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->





<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->




   



     
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    <img id='summary-spinner' class="fa fa-spin" src="images/GEE_logo_transparent.png" alt="" style='position:absolute;display: none;right:40%; bottom:40%;width:100px;height:100px;z-index:10000000;'>
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
 
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->


<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->


<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <div id="parameters-tools-layers" disabled="disabled" style = 'display:none;'>
        <div id="collapse-menu" class="collapse fade in active">
            <ul class="nav nav-tabs  nav-stacked">
                <br>
                <br>
                <img class='image-icon' src="images/layer_icon.png" data-toggle="collapse" data-target="#layers-tab" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click here to view available LCMS layers">
                <p class='image-icon-label' data-toggle="collapse" data-target="#layers-tab">LCMS</p>
                <br>
                <div id="layers-tab" class="collapse in">
                    <layer-list id="layers"></layer-list>
                </div>
                <br>
                <br>
                <img class='image-icon' src="icons/data-layers_968B83-01.svg" data-toggle="collapse" data-target="#reference-layers-tab" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click here to view available reference layers.  These layers include existing geospatial data related to land cover and land cover change">
                <p class='image-icon-label' data-toggle="collapse" data-target="#reference-layers-tab">Reference</p>
                <br>
                <br>
                <div id="reference-layers-tab" class="collapse in">
                    <reference-layer-list id="reference-layers"></reference-layer-list>
                </div>
                <br>
                <p style='float:right;' data-toggle="collapse" data-target="#exports-tab">Download Data
                    <i class="tab-button fa fa-cloud-download  fa-2x fa-fw" aria-hidden="true" data-toggle="collapse" data-target="#exports-tab" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click here to view available reference layers.  These layers include existing geospatial data related to land cover and land cover change"></i>
                </p>
                </ul>
                <br>
                <div id="exports-tab" class="collapse">
                    <div id='download-container' style='display:none;'>
                        <h4>Choose area to download</h4>
                        <select id='downloadDropdown' style='background-color: #555;border-radius:5px;'>
                            <option value=''>Choose a download</option>
                        </select>
                        <input type="button" class='button' value='Download selected area' style='margin-left:5px;border-radius:5px;' onclick="downloadSelectedArea()">
                    </div>
                    <div id='export-container-big' style='display:none;'>
                        <div id='shape-edit-container' style='display:none;width:100%;'>
                            <p style='text-align:center;text-vertical-align:top;margin:1px 1px 10px 1px;color:#fff;font-size:13pt;' href="#" class 'dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Use drawing tools in center left of screen to select areas for export">Data Download Selection Tools</p>
                            <input type="button" class='button' id="toggle-drawing-button" value="Toggle Shapes" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Turn hand-drawn shapes on/off. Keyboard shortcut: 't'">
                            <input type="button" class='button' id="delete-button" value="Clear Selected Shape" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Delete selected shape.  Keyboard shortcut: 'd'">
                            <input type="button" class='button' id="clear-button" value="Clear All Shapes" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Delete all shapes">
                        </div>
                        <div id='export-container' style='display:none;'>
                            <div style='width:100%;height:2px;border-radius:5px;margin:5px;background-color:#fff'></div>
                        </div>
                        <export-list id="export-list" style='display:inline;width:100%'></export-list>
                        <input type="button" type=button class='button' id="process-button" value="Display Export Image" style='display:none;' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Display images within drawn polygons that can be exported">
                        <input type="button" type=button class='button' id="export-button" value="Export Data" style='display:inline-block;' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Export data within drawn polygons">
                        <input onclick="closePopup();" type=button class='button' value="Cancel" style='display:none' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Exit without submitting any images for export">
                        <input onclick="cancelAllTasks();" type=button class='button' id="cancel-tasks-button" value="Cancel All Exports" style='display:inline-block;' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Cancel all export tasks">
                    </div>
                </div>


                <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
                
                <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
        </div>
    </div>
 
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <plot-container id="plot-container" style='position:absolute;left:0%;top:10%;width:200px;max-height:50%;overflow-y:auto;display:none;'>
        <pt-project-list id="pt-project-list"></pt-project-list>
        <pt-list id="pt-list"></pt-list>
    </plot-container>
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <img id='download-spinner' src="images/ee-logo-spinner2.gif" alt="EE image exporting" style="position:absolute;right:50%;bottom:3%;padding: 1px ;visibility:hidden;width:50px;height:50px;background-color:rgba(255,255,255,0.6);border-radius: 10px;" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="">
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <div id='messageBox' style='display:none;
                      border-radius:5px;
                      position:absolute;
                      z-index: 15;
                      top: 50%;
                      right: 30%;
                      width:500px;
                      max-height:500px;
                      overflow-y:auto;
                      overflow-x:auto;
                      margin: -100px 0 0 -150px;background-color:#000;z-index:10000000;'>
        <p id='message-title' style='text-align:center;vertical-align:bottom;color:#fff;font-size:15pt;margin:5px'>MESSAGE</p>
        <div style='width:95%;height:2px;border-radius:5px;margin:2px;background-color:#fff'></div>
        <p id='message' style='text-align:left;vertical-align:bottom;color:#fff;font-size:15pt;margin:5px'></p>
        <input onclick="closeMessage()" type=button class='button' value="x" style='position:absolute;right:0%;top:0%;' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Cancel">
    </div>
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <div id='popup' style='display:none;
                      border-radius:5px;
                      position:absolute;
                      z-index: 15;
                      top: 50%;
                      left: 30%;
                      width: 500px;
                      margin: -100px 0 0 -150px;background-color:rgba(150,150,150,0.95)'>
        <p style='text-align:left;vertical-align:bottom;color:#fff;font-size:15pt;margin:5px'>Image Export Parameters</p>
        <div style='width:95%;height:2px;border-radius:5px;margin:2px;background-color:#fff'></div>
        <ol id='popup-output-list'></ol>
    </div>
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <!-- </div>  -->
    <!-- <div id="marker-position"></div> -->
</body>

</html>