<!DOCTYPE html>
<html>

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-128044829-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-128044829-1');
    </script>
    
    <title>LCMS Data Explorer</title>
    
    <link rel="icon" href="images/usfslogo.png">
    
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="visualize where land cover change is happening">
    <link rel="stylesheet" href="css/style.css">
    <!-- <link rel="stylesheet" href="css/iThing.css" type="text/css" /> -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/polymer/0.3.4/platform.js"></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script> -->
    <script async src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyCEfhh_56VLoQEYIczNxJlrsPRWNYQ5NJE&libraries=drawing"></script>
    <script type="text/javascript" src="js/ee_api_js.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {
            'packages': ['corechart', 'table']
        });
    </script>
    
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
       

    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
   
    <!-- Latest compiled and minified JavaScript -->
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
<!--     <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script> -->
    <!-- <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> -->
    <link rel="import" href="elements/layer-list.html">
    <link rel="import" href="elements/ee-layer.html">
    <link rel="import" href="elements/variables.html">
   
   <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

 
    



</head>

<body>
    <div class="container-fluid master-container">
  <div class="row">
    
    
        
            <div class = 'col-sm-2'></div>
            <div class = 'col-sm-10'>
                <nav class="navbar navbar-expand-sm navbar-dark ">
                <div class="container-fluid">

                    <!-- <button type="button" id="sidebarCollapse" class="navbar-btn">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="fas fa-align-justify"></i>
                    </button> -->

                    <!-- <div class="collapse navbar-collapse" id="navbarSupportedContent"> -->
                      <!--   <ul class="nav navbar-nav ">
                            <div class="navbar-header">
                                <div class="sidebar-header">
                                <h4>Landscape Change Monitoring System <h5 id='study-area-label'></h5></h4>
                                
                                
                                </div>
                                
                            </div>
                        </ul> -->
       
         
        
                            
                            
                        
                        <h5 id='study-area-label'></h5>

                        <ul class = 'nav navbar-nav mr-auto' >
                          
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Study Area</a>
                                <div class="dropdown-menu" >
                                <div class="dropdown-header">National Forest Products</div>
                                  <a class="dropdown-item" onclick = 'dropdownUpdateStudyArea("Bridger-Teton National Forest")'  href="#" data-toggle="tooltip" data-placement="top" title="Bridger-Teton National Forest boundary buffered by 5km plus Star Valley">Bridger-Teton National Forest</a>
                                  <a class="dropdown-item" onclick = 'dropdownUpdateStudyArea("Flathead National Forest")'  href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Flathead National Forest buffered along with Glacier National Park buffered by 1km">Flathead National Forest</a>
                                  <a class="dropdown-item" onclick = 'dropdownUpdateStudyArea("Flathead National Forest")'  href="#" data-toggle="tooltip" data-placement="top" title="Manti-La Sal National Forest" value="Manti-La Sal National Forest">Manti-La Sal National Forest</a>
                                  <div class="dropdown-divider"></div>
                                  <div class="dropdown-header">CONUS Nationwide</div>
                                  <a class="dropdown-item" onclick = 'dropdownUpdateStudyArea("Science Team CONUS NAFD")'  href="#" data-toggle="tooltip" data-placement="top" title="2018 LCMS Science Team CONUS-wide loss" value="Science Team CONUS NAFD">Science Team CONUS NAFD</a>
                                </div>
                              </li>
                       

                             <li class="nav-item dropdown">
                                  <a class="nav-link dropdown-toggle"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Parameters</a>
                                  
                                  <div class="dropdown-menu dropdown-menu-right" >
                                    
                                    <div class="dropdown-header">Choose which mode</div>
                                      <a class="dropdown-item"   href="#" >
                         
                                        <variable-radio var='analysisMode' title2='' name2='Advanced' name1='Standard' value2='advanced' value1='easy' type='string' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Advanced mode provides additional layers and functionality"></variable-radio>
                                      </a>
                                      
                                     
                                      <div class="dropdown-divider"></div>
                                      <div class="dropdown-header">Choose Year Range</div>
                                      <a class="dropdown-item"   href="#" >
                                          <div href="#" class='dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Years of LCMS data to include for land cover, land use,loss, and gain">
                                            <div class='dual-range-slider-name'>Analysis Years:</div>
                                            <div id="slider1" class='dual-range-slider-slider'></div>
                                            <div id='date-range-value1' class='dual-range-slider-value'></div>
                                        </div>
                                        <script type="text/javascript">
                                            var startYear = 1985;
                                            var endYear = 2017;
                                            setUpRangeSlider('startYear', 'endYear', 1985, 2018, startYear, endYear, 1, 'slider1', 'date-range-value1', 'null')
                                        </script>
                                      </a>

                                  <div class="dropdown-divider"></div>
                                  <div id='threshold-container' style="display: none;">
                                  <div class="dropdown-header" >Choose Thresholds</div>
                                    <a class="dropdown-item"   href="#" >
                                        <div href="#" class='dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Threshold window for detecting loss.  Any loss probability within the specified window will be flagged as loss ">
                                            <div class='dual-range-slider-name'>Loss Threshold:</div>
                                            <div id="slider2" class='dual-range-slider-slider'></div>
                                            <div id='declineThreshold' class='dual-range-slider-value'></div>
                                        </div>
                                        <br>
                                        <div href="#" class='dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Threshold window for detecting gain.  Any gain probability within the specified window will be flagged as gain ">
                                            <div class='dual-range-slider-name'>Gain Threshold:</div>
                                            <div id="slider3" class='dual-range-slider-slider'></div>
                                            <div id='recoveryThreshold' class='dual-range-slider-value'></div>
                                        </div>
                                        <script type="text/javascript">
                                            setUpRangeSlider('lowerThresholdDecline', 'upperThresholdDecline', 0, 1, lowerThresholdDecline, upperThresholdDecline, 0.05, 'slider2', 'declineThreshold', 'null')

                                            setUpRangeSlider('lowerThresholdRecovery', 'upperThresholdRecovery', 0, 1, lowerThresholdRecovery, upperThresholdRecovery, 0.05, 'slider3', 'recoveryThreshold', 'null')
                                        </script>
                                        <br>
                                        </a>
                                    </div>

                                    
                                  <div id='advanced-radio-container' style="display: none;">
                                    <div class="dropdown-divider"></div>
                                  <div class="dropdown-header" >Additional Features</div>
                                    <a class="dropdown-item"   href="#" >
                                       <variable-radio var='viewBeta' title2='View Beta Outputs:' name2='Yes' name1='No' value2='yes' value1='no' type='string' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Whether to view products that are currently in beta development"></variable-radio>
            <br>
            <br>
            <variable-radio var='summaryMethod' title2='Summary method:' name2='Highest probability' name1='Most recent year' value2='prob' value1='year' type='string' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="How to choose which value for loss and gain to display/export.  Choose the value with the highest probability or from the most recent year above the specified threshold"></variable-radio>
                                        </a>
                                    </div>


        


                                  
                                </div>

                              </li>

                              <li class="nav-item dropdown">
                                  <a class="nav-link dropdown-toggle"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Tools</a>
                                  <div class="dropdown-menu dropdown-menu-right" >
                                   
                                    <a class="dropdown-item " onclick = 'toggleRadio("none")'  href="#" >Turn off Tools</a>
                                    <div class="dropdown-divider"></div>
                                <div class="dropdown-header">Measuring Tools</div>
                                  <a class="dropdown-item" onclick = 'toggleRadio("distance")'  href="#" >Distance Measuring</a>
                                  <a class="dropdown-item" onclick = 'toggleRadio("area")'  href="#" >Area Measuring</a>
                                 
                                  <div class="dropdown-divider"></div>
                                  <div class="dropdown-header">Pixel Charting Tools</div>
                                  <a class="dropdown-item" onclick = 'toggleRadio("query")'  href="#" >Inspector Single Pixel</a>
                                  <a class="dropdown-item" onclick = 'toggleRadio("charting")'  href="#" >Chart Time Series of Single Pixel</a>
                               

                                  <div class="dropdown-divider"></div>
                                  <div class="dropdown-header">Area Charting Tools</div>
                                  <a class="dropdown-item" onclick = 'startAreaCharting();areaChartingOn = true;turnOnSidebar("right");areaChartingTabSelect("#user-defined")'  href="#" >User Defined Area</a>
                                  <a class="dropdown-item" onclick = 'startAreaCharting();areaChartingOn = true;turnOnSidebar("right");areaChartingTabSelect("#shp-defined")'  href="#" >Upload a Shapefile</a>
                                  <a class="dropdown-item" onclick = 'startAreaCharting();areaChartingOn = true;turnOnSidebar("right");areaChartingTabSelect("#pre-defined")'  href="#" >Select Pre-defined Area</a>
                                </div>
                              </li>
                         
                             
                            <!-- <li class="nav-item">
                               <select style='float:left;height:100%;' onclick="toggleRadio(this.value);">
                                    <option value="" disabled selected>Tools</option>
                                    <option value="none">Turn off Tools</option>
                                    <optgroup label="Measuring Tools">
                                        <option value="distance">Distance Measuring</option>
                                        <option value="area">Area Measuring</option>
                                    </optgroup>
                                    <optgroup label="Charting Tools">
                                        <option value="query">Inspector Single Pixel</option>
                                        <option value="charting">Chart Time Series of Single Pixel</option>
                                        <option value="areaCharting">Chart Time Series of an Area</option>
                                    </optgroup>
                                </select>
                            </li> -->

                           </ul>
                          <ul  class = 'nav navbar-nav ml-auto'>
                              <li class="nav-item ">
                                <i class="fa fa-info-circle fa-2x" style='color:#FFF' data-toggle="modal" data-target="#info-modal" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to learn more about this app"></i>
                            </li> 
                          </ul>
                           
                            
                        
                    <!-- </div> -->
                </div>
            </nav>
            </div>
            
    

    <div class="col-sm-2 sidebar " id = 'left-sidebar'>
    
            
           

            <ul class="list-unstyled components">
               <li class="active">
                    <a id = 'lcms-collapse' href="#lcms-layers-submenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle" >LCMS <img style = 'width:20px;' class='image-icon' src="images/layer_icon.png" data-toggle="collapse" data-target="#lcms-layers-submenu" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click here to view available LCMS layers"></a>
                    <div id="lcms-layers-submenu" class="collapse in">
                    <layer-list id="layers"></layer-list>
                </div>
                </li>
               
            </ul>


            <ul class="list-unstyled components">
               <li class="active">
                    <a id = 'reference-collapse' href="#reference-layers-submenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Reference <img class='image-icon' src="images/layer_icon.png" data-toggle="collapse" data-target="#reference-layers-submenu" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click here to view available reference layers"></a>
                    <div id="reference-layers-submenu" class="collapse in">
                    <reference-layer-list id="reference-layers"></reference-layer-list>
                </div>
                </li>
               
            </ul>

            <ul class="list-unstyled components">
               <li class="active">
            

            
                </li>
               
            </ul>
            
       
    </div>
    <div class="col-sm-10 " id="map"  ></div>

    <div class="col-sm-2 d-none" id = 'right-sidebar' >
        
        <div id="basic-tools-tab" style = 'color:#FFF;margin-top:20px;overflow:auto;max-height:100%;'>
                    <div id='distance-area-measurement'  onclick='toggleDistanceAreaUnits(this.value)' style='display:none;font-weight: bold;' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to toggle metric or imperial.  Drag if needed.  Click on map to start measuring.  Press 'Delete' or 'd' button to clear for area measuring and double click for distance measuring.  Press 'u' to undo last vertex placement for area measuring.  Press 'None' radio button to stop measuring"></div>
                    <!-- <div style='width:100%;height:2px;border-radius:5px;margin:2px;background-color:#fff'></div> -->
                    <div id='query-container' style='display:none;background-color:#000'></div>
                    
                    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
                    <div id='charting-container' style='display: none;width:100%;font-weight: normal;'>
                        <div id='whichIndexForChartingRadio' style='display:none;'>
                            <variable-radio var='whichIndex' title2='Index for charting:' name2='NBR' name1='NDVI' value2='NBR' value1='NDVI' type='string' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Which vegetation index to use for charting"></variable-radio>
                            <br>
                        </div>
                        <!-- <div id=areaChartingTabs style='display:none;'>
                            <ul class="nav nav-tabs" id="myTab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link fa fa-pencil fa-1x" id="user-defined-zones" data-toggle="tab" href="#user-defined" role="tab" aria-controls="user-defined" aria-selected="true" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Draw an area to summarize LCMS products across. Click on map to draw polygon for summarizing.  Double click to finish drawing"></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link fa fa-upload fa-1x" id="shp-defined-zones" data-toggle="tab" href="#shp-defined" role="tab" aria-controls="shp-defined" aria-selected="false" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Upload a zipped shapefile or geojson file to summarize LCMS products across"></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link fa fa-caret-square-o-down fa-1x" id="pre-defined-zones" data-toggle="tab" href="#pre-defined" role="tab" aria-controls="pre-defined" aria-selected="false" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Select a pre-defined area to summarize LCMS products across"></a>
                                </li>
                            </ul>
                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade" id="user-defined" role="tabpanel" aria-labelledby="user-defined-zones">
                                    <br>
                                    <input type="user-defined-area-name" class="form-control" id="user-defined-area-name" placeholder="Name for user-defined area chart" style='width:80%;'>
                                    <br>
                                    <button type="button" onclick='startUserDefinedAreaCharting()' class="button" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to clear chart and currently defined charting area, or if you messed up while defining your area to chart"><i class="fa fa-trash fa-2x" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <div class="tab-pane fade" id="shp-defined" role="tabpanel" aria-labelledby="shp-defined-zones">
                                    <input type="file" id="areaUpload" name="upload" accept=".zip,.geojson,.json" style="display: inline-block;">
                                </div>
                                <div class="tab-pane fade" id="pre-defined" role="tabpanel" aria-labelledby="pre-defined-zones">
                                    <select id='forestBoundaries' style='background-color: #555' onchange='chartChosenArea()'></select>
                                </div>
                            </div>
                        </div> -->
                        <div id = 'user-defined' style = 'display:none;'>
                            <br>
                            <h8>Click on map to draw polygon<br>Double-click to finish drawing polygon<br>The chart will then be automatically created</h8>
                            <div style='width:100%;height:2px;border-radius:5px;margin:2px;background-color:#fff'></div>
                            <!-- <input type="user-defined-area-name" class="form-control" id="user-defined-area-name" placeholder="Chart Name" style='width:100%;'> -->
                            <br>
                            <div class="form-group">
                                <label for="inputsm">User-defined chart name</label>
                                <input class="form-control input-sm" id="user-defined-area-name" type="text" placeholder="Chart Name">
                            </div>
                            <div style='width:100%;height:2px;border-radius:5px;margin:2px;background-color:#fff'></div>
                            <button type="button" onclick='startUserDefinedAreaCharting()' class="button" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to clear chart and currently defined charting area, or if you messed up while defining your area to chart"><i class="fa fa-trash fa-2x" aria-hidden="true"></i>
                            </button>
                        </div>

                        <div id = 'shp-defined' style = 'display:none;'>
                            <h8>Choose zipped shapefile<br>or geoJSON file to summarize across</h8>
                            <br>
                            <input type="file" id="areaUpload" name="upload" accept=".zip,.geojson,.json" style="display: inline-block;">
                        </div>

                        <div id = 'pre-defined' style = 'display:none;'>
                            <select id='forestBoundaries' onchange='chartChosenArea()'></select>
                        </div>

                        <div id='charting-parameters' style='display:none;'>Charting Progress

                            <div style='width:100%;height:2px;border-radius:5px;margin:2px;background-color:#fff'></div>
                            <div id="Progress" style='display:inline-block;' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Progress bar for double-click charting">
                                <div id="Bar"></div>
                            </div>
                            <script type="text/javascript">
                                var plotRadius = 15;
                                var plotScale = 30;
                                // listenForUserDefinedAreaCharting(); //startAreaCharting();
                            </script>
                            <div id="curve_chart" style="display: none;border-radius: 10px;background: #000"></div>
                        </div>
                    </div>
                    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
                </div>
    </div>

    
        
      </div>
    
  </div>

   


    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    <!-- Add Google Map -->
    <!-- <div id="map"></div> -->
    <!-- Bring in various js modules -->
    <script type="text/javascript" src="js/parameters-manager.js"></script>
    <!--Module for basic parameters-->
    <script type="text/javascript" src="js/drawing-manager.js"></script>
    <!--Module for user-defined vectors-->
    <script type="text/javascript" src="js/map-manager.js"></script>
    <!--Module for managing EE, area and distance calculation etc-->
    <script type="text/javascript" src="js/tools-toggle-manager.js"></script>
    <!--Module for managing EE, area and distance calculation etc-->
    <script type="text/javascript" src="ee/run.js"></script>
    <!--Module for general EE code- place all EE code here to run on refresh-->
    <script type="text/javascript" src="metadata/metadata-parser.js"></script>
    <!--For parsing metadata-->
    <script type="text/javascript" src="js/chart-manager.js"></script>
    <!--Module for charting-->
    <script type="text/javascript" src="js/export-manager.js"></script>
    <!--Module for creating EE images for exporting- Place all EE code here for exporting EE objects-->
    <script type="text/javascript" src="js/download-manager.js"></script>
    <!--Module for exporting predefined images-->

<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->





<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->




    <div id="info-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
            <h4 class="modal-title">A little bit about this app</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <p>This website is designed to provide a visualiztion of LCMS landcover change products, related geospatial data, and a portal to download the data</p>
                    <div style='width:100%;height:2px;border-radius:5px;margin:2px;background-color:#fff'></div>
                    <input onclick="downloadTraining();" type=button class='button' id="download-training-button" value="Download Training Tutorial" style='display:inline-block;width:100%;margin-top:3px;' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to download training tutorial pdf">
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
       
      </div>

    </div>
  </div>
</div>



     
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    <img id='summary-spinner' class="fa fa-spin" src="images/GEE_logo_transparent.png" alt="" style='position:absolute;display: none;right:40%; bottom:40%;width:100px;height:100px;'>
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    <div id="curve_chart_big" style="display: none;position:absolute;z-index:1;border-radius: 10px;background: #000; right:20%;bottom:15%;"></div>
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <div class='header' style='display:none;position:absolute;top:0%;left:0%;width:100%;height:5%;background:rgba(20,20,20,0.95);color:#FFF;'>
        <div class="navbar-header">
            <a class="navbar-brand" style='color:#FFF;' id='study-area-label' href="#"></a>
        </div>
        <div style='position:relative;left:20%;height:100%;'>
            <select id='studyAreaDropdown' style='float:left;background-color:#222;color:#FFF;height:100%;margin-left:1px;' onchange='dropdownUpdateStudyArea(this.value)'>
                <option value="" disabled selected>Study Area</option>
                <optgroup label="National Forest Products">
                    <option href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Bridger-Teton National Forest boundary buffered by 5km plus Star Valley" value="Bridger-Teton National Forest">Bridger-Teton National Forest</option>
                    <option href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Flathead National Forest buffered along with Glacier National Park buffered by 1km" value="Flathead National Forest">Flathead National Forest</option>
                    <option href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Manti-La Sal National Forest" value="Manti-La Sal National Forest">Manti-La Sal National Forest</option>
                </optgroup>
                <optgroup label="CONUS Nationwide">
                    <option href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="2018 LCMS Science Team CONUS-wide loss" value="Science Team CONUS NAFD">Science Team CONUS NAFD</option>
                </optgroup>
            </select>
            <p style='float:left;margin-left:5px;' data-toggle="collapse" data-target="#parameters-tab" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click here to view user input parameters.  All layers will automatically update when changes are made.  There is a lag each time a change is made.  Try waiting ~5 seconds after making a change so the tool can keep up">Parameters
                <i class="tab-button fa fa-cogs fa-2x fa-fw" aria-hidden="true" data-toggle="collapse" data-target="#parameters-tab" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click here to view user input parameters.  All layers will automatically update when changes are made.  There is a lag each time a change is made.  Try waiting ~5 seconds after making a change so the tool can keep up"></i>
            </p>
            <select style='float:left;background-color:#222;color:#FFF;height:100%;margin-left:1px;' onclick="toggleRadio(this.value);">
                <option value="" disabled selected>Tools</option>
                <option value="none">Turn off Tools</option>
                <optgroup label="Measuring Tools">
                    <option value="distance">Distance Measuring</option>
                    <option value="area">Area Measuring</option>
                </optgroup>
                <optgroup label="Charting Tools">
                    <option value="query">Inspector Single Pixel</option>
                    <option value="charting">Chart Time Series of Single Pixel</option>
                    <option value="areaCharting">Chart Time Series of an Area</option>
                </optgroup>
            </select>
            <div ref="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Whether to present more concise set of LCMS parameters and outputs">
                <input type="checkbox" data-onstyle="default" data-toggle="toggle" data-width="100" data-on="Advanced" data-off="Standard" id='standardOrAdvancedToggle'>
            </div>
            
           
        </div> <i class="fa fa-info-circle fa-2x" style='display:inline-block;float:right;opacity:1;color:#FFF;margin-left:5px;margin-right:5px;' data-toggle="modal" data-target="#infoModal" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to learn more about this app"></i>
    </div>

<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <div id="parameters-tab" class="collapse" style='position:absolute;top:5%;left:25%;width:30%;height:5%;background:rgba(20,20,20,0.95);color:#FFF;'>
        <div id='advanced-radio-container' style="display: none;">
            <br>
            <div style='width:100%;height:2px;border-radius:5px;margin:2px;background-color:#fff'></div>
            <br>
            <variable-radio var='viewBeta' title2='View Beta Outputs:' name2='Yes' name1='No' value2='yes' value1='no' type='string' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Whether to view products that are currently in beta development"></variable-radio>
            <br>
            <br>
            <variable-radio var='summaryMethod' title2='Summary method:' name2='Highest probability' name1='Most recent year' value2='prob' value1='year' type='string' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="How to choose which value for loss and gain to display/export.  Choose the value with the highest probability or from the most recent year above the specified threshold"></variable-radio>
        </div>
        <div href="#" class='dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Years of LCMS data to include for land cover, land use,loss, and gain">
            <div class='dual-range-slider-name'>Analysis Years:</div>
            <div id="slider1" class='dual-range-slider-slider'></div>
            <div id='date-range-value1' class='dual-range-slider-value'></div>
        </div>
        <script type="text/javascript">
            var startYear = 1985;
            var endYear = 2017;
            setUpRangeSlider('startYear', 'endYear', 1985, 2018, startYear, endYear, 1, 'slider1', 'date-range-value1', 'null')
        </script>
        <br>
        <div id='threshold-container' style="display: none;">
            <div href="#" class='dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Threshold window for detecting loss.  Any loss probability within the specified window will be flagged as loss ">
                <div class='dual-range-slider-name'>Loss Threshold:</div>
                <div id="slider2" class='dual-range-slider-slider'></div>
                <div id='declineThreshold' class='dual-range-slider-value'></div>
            </div>
            <br>
            <div href="#" class='dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Threshold window for detecting gain.  Any gain probability within the specified window will be flagged as gain ">
                <div class='dual-range-slider-name'>Gain Threshold:</div>
                <div id="slider3" class='dual-range-slider-slider'></div>
                <div id='recoveryThreshold' class='dual-range-slider-value'></div>
            </div>
            <script type="text/javascript">
                setUpRangeSlider('lowerThresholdDecline', 'upperThresholdDecline', 0, 1, lowerThresholdDecline, upperThresholdDecline, 0.05, 'slider2', 'declineThreshold', 'null')

                setUpRangeSlider('lowerThresholdRecovery', 'upperThresholdRecovery', 0, 1, lowerThresholdRecovery, upperThresholdRecovery, 0.05, 'slider3', 'recoveryThreshold', 'null')
            </script>
            <br>
        </div>
    </div>
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <div class='footer' style='display:none;color:#FFF;position:absolute;bottom:0%;left:0%;width:100%;height:3%;background:rgba(20,20,20,0.95)'>
        <div style='margin-right:20%;float:right;height:90%;margin-top:1px;'>
            <a href="http://www.fs.fed.us//" target="_blank">
                <img src="images/usfslogo.png" alt="FS Logo" style="float:right;height:100%;background-color:rgba(200,200,200,0.7);border-radius: 5px;margin-left:  5px;" href="#" class 'dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to learn more the US Forest Service">
            </a>
            <a href="https://www.fs.fed.us/gstc/" target="_blank">
                <img src="images/GTAC_Logo.png" alt="GTAC Logo" style="float:right;height:100%;background-color:rgba(200,200,200,0.7);border-radius: 5px;margin-left:  5px;" href="#" class 'dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to learn more about the Geospatial Technology and Applications Center (GTAC)">
            </a>
            <a href="https://www.redcastleresources.com/" target="_blank">
                <img src="images/RCR-logo.jpg" alt="RedCastle Inc. Logo" style="float:right;height:100%;background-color:rgba(200,200,200,0.7);border-radius: 5px;;margin-left:  5px;" href="#" class 'dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to learn more about RedCastle Resources Inc.">
            </a>
            <a href="https://earthengine.google.com/" target="_blank">
                <img src="images/GEE.png" alt="Powered by Google Earth Engine" style="float:right;height:100%;background-color:rgba(200,200,200,0.7);border-radius: 5px;margin-left:  5px;" href="#" class 'dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click to learn more about Google Earth Engine">
            </a>
        </div>
        <div id='current-mouse-position' style='float:right;margin-right:20px;margin-top:5px;'></div>
    </div>
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <div id="parameters-tools-layers" disabled="disabled" style = 'display:none;'>
        <div id="collapse-menu" class="collapse fade in active">
            <ul class="nav nav-tabs  nav-stacked">
                <br>
                <br>
                <img class='image-icon' src="images/layer_icon.png" data-toggle="collapse" data-target="#layers-tab" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click here to view available LCMS layers">
                <p class='image-icon-label' data-toggle="collapse" data-target="#layers-tab">LCMS</p>
                <br>
                <div id="layers-tab" class="collapse in">
                    <layer-list id="layers"></layer-list>
                </div>
                <br>
                <br>
                <img class='image-icon' src="images/layer_icon.png" data-toggle="collapse" data-target="#reference-layers-tab" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click here to view available reference layers.  These layers include existing geospatial data related to land cover and land cover change">
                <p class='image-icon-label' data-toggle="collapse" data-target="#reference-layers-tab">Reference</p>
                <br>
                <br>
                <div id="reference-layers-tab" class="collapse in">
                    <reference-layer-list id="reference-layers"></reference-layer-list>
                </div>
                <br>
                <p style='float:right;' data-toggle="collapse" data-target="#exports-tab">Download Data
                    <i class="tab-button fa fa-cloud-download  fa-2x fa-fw" aria-hidden="true" data-toggle="collapse" data-target="#exports-tab" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click here to view available reference layers.  These layers include existing geospatial data related to land cover and land cover change"></i>
                </p>
                </ul>
                <br>
                <div id="exports-tab" class="collapse">
                    <div id='download-container' style='display:none;'>
                        <h4>Choose area to download</h4>
                        <select id='downloadDropdown' style='background-color: #555;border-radius:5px;'>
                            <option value=''>Choose a download</option>
                        </select>
                        <input type="button" class='button' value='Download selected area' style='margin-left:5px;border-radius:5px;' onclick="downloadSelectedArea()">
                    </div>
                    <div id='export-container-big' style='display:none;'>
                        <div id='shape-edit-container' style='display:none;width:100%;'>
                            <p style='text-align:center;text-vertical-align:top;margin:1px 1px 10px 1px;color:#fff;font-size:13pt;' href="#" class 'dual-range-slider-container' rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Use drawing tools in center left of screen to select areas for export">Data Download Selection Tools</p>
                            <input type="button" class='button' id="toggle-drawing-button" value="Toggle Shapes" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Turn hand-drawn shapes on/off. Keyboard shortcut: 't'">
                            <input type="button" class='button' id="delete-button" value="Clear Selected Shape" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Delete selected shape.  Keyboard shortcut: 'd'">
                            <input type="button" class='button' id="clear-button" value="Clear All Shapes" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Delete all shapes">
                        </div>
                        <div id='export-container' style='display:none;'>
                            <div style='width:100%;height:2px;border-radius:5px;margin:5px;background-color:#fff'></div>
                        </div>
                        <export-list id="export-list" style='display:inline;width:100%'></export-list>
                        <input type="button" type=button class='button' id="process-button" value="Display Export Image" style='display:none;' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Display images within drawn polygons that can be exported">
                        <input type="button" type=button class='button' id="export-button" value="Export Data" style='display:inline-block;' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Export data within drawn polygons">
                        <input onclick="closePopup();" type=button class='button' value="Cancel" style='display:none' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Exit without submitting any images for export">
                        <input onclick="cancelAllTasks();" type=button class='button' id="cancel-tasks-button" value="Cancel All Exports" style='display:inline-block;' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Cancel all export tasks">
                    </div>
                </div>


                <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
                
                <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
        </div>
    </div>
    </div>
    </div>
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    <div id = 'right-sidebar'  style='position:absolute;right:10px;top:8%;max-height:85%;background:#000;overflow-y:auto;overflow-x:hidden;display:none;'>

        

        <div id='legendDiv' style='max-width:250px; '>
        
        <p style='float:right;color:#FFF;margin-left:5px;margin-right:5px;' id = 'legend-clicker' data-toggle="collapse" data-target="#legendCollapse"rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Click here to view LCMS and Reference layers map legend">Legend 
        </p>
       
        <div class="collapse in" id="legendCollapse">
            <legend-list id="legend"></legend-list>
        </div>
    </div>

    </div>
    
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <plot-container id="plot-container" style='position:absolute;left:0%;top:10%;width:200px;max-height:50%;overflow-y:auto;display:none;'>
        <pt-project-list id="pt-project-list"></pt-project-list>
        <pt-list id="pt-list"></pt-list>
    </plot-container>
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <img id='download-spinner' src="images/ee-logo-spinner2.gif" alt="EE image exporting" style="position:absolute;right:50%;bottom:3%;padding: 1px ;visibility:hidden;width:50px;height:50px;background-color:rgba(255,255,255,0.6);border-radius: 10px;" href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="">
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <div id='messageBox' style='display:none;
                      border-radius:5px;
                      position:absolute;
                      z-index: 15;
                      top: 50%;
                      right: 30%;
                      width:500px;
                      max-height:500px;
                      overflow-y:auto;
                      overflow-x:auto;
                      margin: -100px 0 0 -150px;background-color:#000;'>
        <p id='message-title' style='text-align:center;vertical-align:bottom;color:#fff;font-size:15pt;margin:5px'>MESSAGE</p>
        <div style='width:95%;height:2px;border-radius:5px;margin:2px;background-color:#fff'></div>
        <p id='message' style='text-align:left;vertical-align:bottom;color:#fff;font-size:15pt;margin:5px'></p>
        <input onclick="closeMessage()" type=button class='button' value="x" style='position:absolute;right:0%;top:0%;' href="#" rel="txtTooltip" data-toggle="tooltip" data-placement="top" title="Cancel">
    </div>
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <div id='popup' style='display:none;
                      border-radius:5px;
                      position:absolute;
                      z-index: 15;
                      top: 50%;
                      left: 30%;
                      width: 500px;
                      margin: -100px 0 0 -150px;background-color:rgba(150,150,150,0.95)'>
        <p style='text-align:left;vertical-align:bottom;color:#fff;font-size:15pt;margin:5px'>Image Export Parameters</p>
        <div style='width:95%;height:2px;border-radius:5px;margin:2px;background-color:#fff'></div>
        <ol id='popup-output-list'></ol>
    </div>
<!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <!-- </div>  -->
    <!-- <div id="marker-position"></div> -->
</body>

</html>